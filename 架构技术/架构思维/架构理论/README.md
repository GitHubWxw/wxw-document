### 系统架构思想



### 高并发

- 分流
- 缓存
- 异步
- 限流、降级

#### 集群、负载均衡技术

- nginx、lvs、F5、dns

#### 提速

- 缓存 Redis
- 异步化：并发编程

#### 浅谈高并发

作为一个普普通通的程序员，如何才能提升自己的能力，在职场上拥有一技之长，这也成为普通的你我，迫切的需求。

**拥有什么样的能力才能不被淘汰？答案是：高并发 **，它几乎成为了每个程序员都想要拥有的经验。

原因很简单：流量是大的电商公司必要的需求，比如，淘宝的双十一会产生大量的高并发，用户上亿，一天的流量就是几十亿，高峰期的并发量上十万。**所以，如何抗住高并发，是这种大公司需要面对的。**

你去面试Java高级工程师，高并发这块，经常会被面试官问到，比如，**他会仔细的盘问你使用什么系统架构？怎么部署的？部署了多少台机器？缓存怎么使用的？MQ、数据库如何使用？**就是深挖你到底是如何扛住高并发的。说白了，他们就是要考察你有没有过处理高并发的经验。

而且，接口响应超时、CPU load升高、GC频繁、死锁、大数据量存储等等，这些问题能推动我们在技术深度上不断精进。

真正干过高并发的人都知道，脱离了业务的系统架构，其实就是在纸上谈兵，**而在真正处理复杂业务场景下的高并发时，并不是简单的使用MQ、Readis就能搞定**，而真实的业务场景要比这个复杂太多了。

然而，大家对高并发的理解方向是完全错误的。

> Java 如何处理高并发

**1、大部分人对数据化的指标完全无概念**

他们并不清楚用什么样的指标来衡量高并发系统？分不清并发量和QPS，甚至不知道自己系统的总用户量、活跃用户量，平峰和高峰时的QPS和TPS等关键数据。

**2、虽然设计些许方案，但细节理解偏差**

讲不出方案需要关注的技术点，还有可能带来的副作用。比如，他们忽视了缓存命中率、热点key、数据一致性等问题。

**3、把高并发设计理解成了性能优化**

大谈并发编程、多级缓存、异步化、水平扩容，却忽视高可用设计、服务治理和运维保障。

**4、虽然掌握大方案，但最基本的东西被忽视了**

仅仅只能讲清楚垂直分层、水平分区、缓存等大思路，却没意识去分析数据结构是否合理，算法是否高效，没想过从最根本的IO和计算两个维度去做细节优化。

> 常见问题

**1、深度解密 JUC，CAS，ABA** 

1. 并发编程的机遇和挑战
2. Java内存模型
3. CAS底层原理和Unsafe的理解
4. 为什么不用synchronized也能实现++操作
5. ABA问题？原子更新引用知道吗？

**2、JUC 工具类&锁机制&阻塞队列** 

1. Java并发下的集合容器
2. 公平锁/可重入锁/递归锁/自旋锁的l理解？
3. CountDownLatch/Cyclibarrier/Semphore 用过吗？
4. 阻塞队列知道吗？

**3、你真的了解线程池吗？** 

1. 线程池的核心参数？
2. ThreadPoolExecutor谈谈你的理解？
3. 生产上如何设置线程池参数？
4. 拒绝策略怎么配？
5. 死锁编码以及定位？









